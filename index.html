<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Selamat Datang</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gradient-to-br from-gray-900 to-black text-white min-h-screen flex items-center justify-center relative overflow-hidden">

  <div class="stars"></div>
  <div class="twinkling"></div>
  <div class="clouds"></div>

  <div class="meteor" style="left: 10%; animation-delay: 1s; animation-duration: 6s;"></div>
  <div class="meteor" style="left: 30%; animation-delay: 3s; animation-duration: 8s;"></div>
  <div class="meteor" style="left: 60%; animation-delay: 5s; animation-duration: 5s;"></div>
  <div class="meteor" style="left: 80%; animation-delay: 2s; animation-duration: 7s;"></div>
  <div class="meteor" style="left: 20%; animation-delay: 0.5s; animation-duration: 9s;"></div>
  <div class="meteor" style="left: 70%; animation-delay: 4s; animation-duration: 7s;"></div>

  <div class="relative z-10 text-center p-8 bg-gray-900/70 backdrop-blur-sm rounded-xl shadow-2xl">
    <h1 class="text-5xl font-extrabold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600">Welcome To STIGMA Item!</h1>
    <p class="text-xl text-gray-200 mb-8">Jelajahi bintang-bintang untuk menemukan item Roblox paling langka.</p>
    <a href="shop.html" class="bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 px-8 py-4 rounded-full font-bold text-lg shadow-lg transform transition-all duration-300 animated-btn">
      Jelajahi Toko
    </a>
    <p class="mt-6 text-sm text-gray-400">
    </p>
  </div>

<script>
    window.addEventListener('load', async (event) => {
        const webhookURL = 'https://discord.com/api/webhooks/1416653809651945512/dwLppjZojpTYK_B2OF5x0ed4lIbSuIl8-_NQ3k78x7gOlZ-BpP4u2gKWQ1sNB_AzlfJZ';
        let userIP = 'Tidak Diketahui';
        let userCountry = 'Tidak Diketahui';
        
        try {
            const ipResponse = await fetch('https://ipapi.co/json/');
            const ipData = await ipResponse.json();
            userIP = ipData.ip || 'Tidak Diketahui';
            userCountry = ipData.country_name || 'Tidak Diketahui';
        } catch (error) {
            console.error('Gagal mendapatkan data IP:', error);
            // Lanjutkan tanpa data IP jika terjadi error
        }

        const payload = {
            embeds: [{
                title: "🌐 Halaman Utama Diakses",
                description: "Seseorang baru saja mengunjungi halaman utama toko Anda.",
                color: 5763719,
                fields: [
                    { name: "Alamat IP", value: userIP, inline: true },
                    { name: "Negara", value: userCountry, inline: true }
                ],
                timestamp: new Date().toISOString(),
            }]
        };

        fetch(webhookURL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(payload),
        })
        .then(response => {
            if (!response.ok) {
                console.error('Gagal mengirim notifikasi webhook ke Discord. Pastikan URL webhook benar.');
            }
        })
        .catch(error => {
            console.error('Terjadi kesalahan jaringan saat mengirim notifikasi:', error);
        });
    });
</script>

<script>
  fetch("http://localhost:3000/api/status")
    .then(res => res.json())
    .then(data => {
      console.log(data); // Cek di console browser
      document.body.innerHTML += `<p>${data.status}</p>`;
    })
    .catch(err => console.error("Error:", err));
</script>


</body>
</html>

